{"version":3,"sources":["repo/index.ts","time/index.ts","personal-access-token/use-personal-access-token.ts","personal-access-token/PersonalAccessToken.tsx","search/search.ts","search/search-query.ts","search/InfiniteSearch.tsx","search/use-infinite-search.ts","index.tsx","app/App.tsx","search-criteria/search-criteria.ts","search-criteria/use-search-criteria.ts","search-criteria/TimeRangesPopoverMenu.tsx","search-criteria/use-languages.ts","search-criteria/LanguagesSelectMenu.tsx","search-criteria/to-query-string.ts","search-criteria/index.ts","ui/Pane.tsx","ui/Column.tsx","ui/Text.tsx","ui/FadeText.tsx","ui/GithubIcon.tsx","ui/Link.tsx","ui/Row.tsx","ui/SelectMenu.tsx","ui/index.ts","search-type/use-search-type.ts","search-type/SearchTypesSelectField.tsx","search-type/index.ts","utils/index.ts","api/fetch-languages.ts","api/most-starred-repos.ts","api/trending-repos.ts","api/fetch-repos.ts","api/index.ts","repo/RepoCard.tsx"],"names":["RECURENSE_TO_INCREMENTS","yearly","monthly","weekly","daily","INCREMENTS_TO_RECURENSE","year","month","week","day","toTimeRangeRecurense","timeRangeIncrement","TIME_RANGE_FORMAT","toTimeRange","timeRangeRecurense","timeRangeOffset","increments","toTimeRangeIncrement","from","moment","subtract","format","to","add","createTimeRange","fromNow","timeRange","capitalize","PRETTY_FORMAT","prettyFormat","usePersistedPersonalAccessToken","createPersistedState","initialState","usePersonalAccessToken","PersonalAccessToken","content","close","PopoverBody","appearance","persistedPersonalAccessToken","setPersistedPersonalAccessToken","useState","personalAccesToken","setPersonalAccessToken","width","padding","paddingBottom","target","href","value","onChange","evt","justifyContent","intent","onClick","createSearch","queries","loading","createSearchQuery","results","InfiniteSearch","useSearchType","searchType","useSearchCriteria","searchCriteria","refreshTimeRange","isMounted","useMountedState","personalAccessToken","search","setSearch","load","useCallback","a","fetchRepos","repos","loadNext","nextQuery","nextCriteria","createSearchCriteria","languages","filter","query","useInfiniteSearch","useEffect","SearchHeader","refresh","size","data-testid","map","SearchQuery","key","JSON","stringify","every","length","paddingX","alignItems","marginBottom","grow","marginRight","icon","flexWrap","SearchQueryHeader","repo","url","marginX","rootElement","document","getElementById","render","elevation","backgroundColor","defaultTheme","palette","blue","base","minHeight","paddingRight","color","is","iconBefore","style","marginLeft","background","paddingY","margin","order","page","per_page","usePersistedSearchCriteria","setSearchCriteria","criteria","TimeRangesPopoverMenu","setTimeRangeRecurense","onSelect","Group","Item","usePersistedLanguages","timestamp","useLanguages","isLoading","setIsLoading","persistedLanguages","setPersistedLanguages","diff","fetchLanguages","LanguagesSelectMenu","selectedLanguages","setSelectedLanguages","label","join","options","name","isMultiSelect","title","selected","item","onDeselect","deselectedItem","language","toQueryString","created","reduce","q","lang","Pane","evergreen","Column","children","card","props","display","flexDirection","minWidth","height","flexGrow","Text","FadeText","className","position","overflow","GithubIcon","fill","preserveAspectRatio","viewBox","d","Link","Row","SelectMenu","usePersistedSearchType","SearchTypesSelectField","setSearchType","inputWidth","_string","charAt","toUpperCase","slice","flatZip","arrs","arr","rest","flatArr","val","i","githubLinguistYmlUrl","fetch","res","text","yml","json","jsyaml","safeLoad","Object","keys","Octokit","auth","sort","response","data","items","html_url","owner","login","avatarUrl","avatar_url","createdAt","created_at","description","stars","stargazers_count","forks","forks_count","since","Promise","all","fetchRepositories","createRepo","trendingRepo","author","avatar","languageColor","currentPeriodStars","fetchMostStarredRepos","fetchTrendingRepos","RepoCard","find","src","textDecoration","fontSize","issues"],"mappings":"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","file":"static/js/main.5ae2f8d5.chunk.js","sourcesContent":["export * from './RepoCard';\nexport * from './repo';\n","import moment from 'moment';\nimport { capitalize } from '../utils';\n\nexport type TimeRangeIncrements = 'year' | 'month' | 'week' | 'day';\n\nexport type TimeRangeRecurense = 'yearly' | 'monthly' | 'weekly' | 'daily';\n\nexport type TimeRange = {\n  increments: TimeRangeIncrements;\n  from: string;\n  to: string;\n};\n\nconst RECURENSE_TO_INCREMENTS: Readonly<Record<\n  TimeRangeRecurense,\n  TimeRangeIncrements\n>> = {\n  yearly: 'year',\n  monthly: 'month',\n  weekly: 'week',\n  daily: 'day'\n};\n\nexport function toTimeRangeIncrement(\n  timeRangeRecurense: TimeRangeRecurense\n): TimeRangeIncrements {\n  return RECURENSE_TO_INCREMENTS[timeRangeRecurense];\n}\n\nconst INCREMENTS_TO_RECURENSE: Readonly<Record<\n  TimeRangeIncrements,\n  TimeRangeRecurense\n>> = {\n  year: 'yearly',\n  month: 'monthly',\n  week: 'weekly',\n  day: 'daily'\n};\n\nexport function toTimeRangeRecurense(\n  timeRangeIncrement: TimeRangeIncrements\n): TimeRangeRecurense {\n  return INCREMENTS_TO_RECURENSE[timeRangeIncrement];\n}\n\nconst TIME_RANGE_FORMAT = 'YYYY-MM-DD';\n\nexport function toTimeRange(\n  timeRangeRecurense: TimeRangeRecurense,\n  timeRangeOffset = 0\n): TimeRange {\n  const increments = toTimeRangeIncrement(timeRangeRecurense);\n\n  const from = moment()\n    .subtract(1 + timeRangeOffset, increments)\n    .format(TIME_RANGE_FORMAT);\n\n  const to = moment(from)\n    .add(1, increments)\n    .format(TIME_RANGE_FORMAT);\n\n  return {\n    increments,\n    from,\n    to\n  };\n}\n\nexport function createTimeRange(\n  increments: TimeRangeIncrements,\n  timeRangeOffset = 0\n) {\n  const recurense = toTimeRangeRecurense(increments);\n  return toTimeRange(recurense, timeRangeOffset);\n}\n\nexport function fromNow(timeRange: TimeRange) {\n  return capitalize(moment(timeRange.from).fromNow());\n}\n\nconst PRETTY_FORMAT = 'MMMM DD, YYYY';\n\nexport function prettyFormat(timeRange: TimeRange) {\n  const from = moment(timeRange.from).format(PRETTY_FORMAT);\n  const to = moment(timeRange.to).format(PRETTY_FORMAT);\n  return `${from} – ${to}`;\n}\n","import createPersistedState from 'use-persisted-state';\n\nconst usePersistedPersonalAccessToken = createPersistedState(\n  'grs-github-personal-access-token'\n);\n\nconst initialState = '';\n\nexport function usePersonalAccessToken() {\n  const [\n    persistedPersonalAccessToken,\n    setPersistedPersonalAccessToken\n  ] = usePersistedPersonalAccessToken(initialState);\n\n  return [persistedPersonalAccessToken, setPersistedPersonalAccessToken] as [\n    typeof persistedPersonalAccessToken,\n    typeof setPersistedPersonalAccessToken\n  ];\n}\n","import React, { ChangeEvent, useState } from 'react';\nimport { Button, Column, Heading, Link, Popover, Row, TextInput } from '../ui';\nimport { usePersonalAccessToken } from './use-personal-access-token';\n\nexport function PersonalAccessToken() {\n  return (\n    <Popover content={({ close }) => <PopoverBody close={close} />}>\n      <Button appearance=\"minimal\">Add a personal access token</Button>\n    </Popover>\n  );\n}\n\ntype PopoverBodyProps = { close(): void };\n\nfunction PopoverBody({ close }: PopoverBodyProps) {\n  const [\n    persistedPersonalAccessToken,\n    setPersistedPersonalAccessToken\n  ] = usePersonalAccessToken();\n\n  const [personalAccesToken, setPersonalAccessToken] = useState(\n    persistedPersonalAccessToken\n  );\n\n  function onPersonalAccessTokenChange(evt: ChangeEvent<HTMLInputElement>) {\n    setPersonalAccessToken(evt.target.value);\n  }\n\n  function onSaveClick() {\n    setPersistedPersonalAccessToken(personalAccesToken);\n    close();\n  }\n\n  return (\n    <Column width={280} padding={16}>\n      <Row paddingBottom={16}>\n        <Heading>\n          <Link target=\"_blank\" href=\"https://github.com/settings/tokens\">\n            Generate a token\n          </Link>{' '}\n          and add it below to avoid hitting the rate limit.\n        </Heading>\n      </Row>\n      <Row paddingBottom={16}>\n        <TextInput\n          value={personalAccesToken}\n          onChange={onPersonalAccessTokenChange}\n        />\n      </Row>\n      <Row paddingBottom={16} justifyContent=\"flex-end\">\n        <Button appearance=\"primary\" intent=\"success\" onClick={onSaveClick}>\n          Save\n        </Button>\n      </Row>\n    </Column>\n  );\n}\n","import { SearchQuery } from './search-query';\n\nexport type Search = {\n  loading: boolean;\n  queries: SearchQuery[];\n};\n\nexport function createSearch(\n  queries = [] as SearchQuery[],\n  loading = true\n): Search {\n  return {\n    loading,\n    queries\n  };\n}\n","import { Repo } from '../repo';\nimport { TimeRange } from '../time';\n\nexport type SearchQuery = {\n  timeRange: TimeRange;\n  loading: boolean;\n  results: Repo[] | null;\n};\n\nexport function createSearchQuery(\n  timeRange: TimeRange,\n  results: Repo[] | null = null,\n  loading = true\n): SearchQuery {\n  return {\n    timeRange,\n    loading,\n    results\n  };\n}\n","import React, { useEffect } from 'react';\nimport { RepoCard } from '../repo';\nimport {\n  LanguagesSelectMenu,\n  TimeRangesPopoverMenu,\n  useSearchCriteria\n} from '../search-criteria';\nimport { SearchTypesSelectField, useSearchType } from '../search-type';\nimport { createTimeRange, fromNow, prettyFormat, TimeRange } from '../time';\nimport { Button, Column, Heading, IconButton, Row, Spinner, Text } from '../ui';\nimport { SearchQuery as Query } from './search-query';\nimport { useInfiniteSearch } from './use-infinite-search';\n\nexport function InfiniteSearch() {\n  const [searchType] = useSearchType();\n  const [searchCriteria, , refreshTimeRange] = useSearchCriteria();\n  const [search, load, loadNext] = useInfiniteSearch();\n\n  useEffect(() => {\n    load();\n  }, [load]);\n\n  function onLoadNext() {\n    const timeRange = createTimeRange(\n      searchCriteria.timeRange.increments,\n      search.queries.length\n    );\n    loadNext(timeRange);\n  }\n\n  return (\n    <>\n      <SearchHeader refresh={refreshTimeRange} />\n      {search.loading ? (\n        <Row justifyContent=\"center\">\n          <Spinner size={40} data-testid=\"spinner\" />\n        </Row>\n      ) : (\n        <>\n          {search.queries.map(query => (\n            <SearchQuery key={JSON.stringify(query.timeRange)} query={query} />\n          ))}\n          {searchType === 'most-starred' &&\n            search.queries.every(query => !query.loading) && (\n              <Row paddingBottom={32} justifyContent=\"center\">\n                <Button onClick={onLoadNext}>\n                  Load next {searchCriteria.timeRange.increments}\n                </Button>\n              </Row>\n            )}\n        </>\n      )}\n    </>\n  );\n}\n\nfunction SearchHeader({ refresh }: { refresh(): void }) {\n  return (\n    <Row paddingX={16} alignItems=\"center\" marginBottom={32}>\n      <Column grow>\n        <SearchTypesSelectField />\n      </Column>\n      <Column marginRight={16}>\n        <LanguagesSelectMenu />\n      </Column>\n      <Column marginRight={16}>\n        <TimeRangesPopoverMenu />\n      </Column>\n      <Column>\n        <IconButton icon=\"refresh\" onClick={refresh} data-testid=\"refresh\" />\n      </Column>\n    </Row>\n  );\n}\n\nfunction SearchQuery({ query }: { query: Query }) {\n  return (\n    <Row flexWrap=\"wrap\" justifyContent=\"center\">\n      {query.loading ? (\n        <Spinner size={40} data-testid=\"spinner\" marginBottom={32} />\n      ) : (\n        <>\n          <SearchQueryHeader timeRange={query.timeRange} />\n          {(query.results || []).map(repo => (\n            <RepoCard\n              key={repo.url}\n              repo={repo}\n              timeRange={query.timeRange}\n              marginX={16}\n            />\n          ))}\n        </>\n      )}\n    </Row>\n  );\n}\n\nfunction SearchQueryHeader({ timeRange }: { timeRange: TimeRange }) {\n  return (\n    <Row paddingX={16} alignItems=\"center\" marginBottom={32}>\n      <Column grow>\n        <Row>\n          <Heading size={600}>{fromNow(timeRange)}</Heading>\n        </Row>\n        <Row>\n          <Text>{prettyFormat(timeRange)}</Text>\n        </Row>\n      </Column>\n    </Row>\n  );\n}\n","import { useCallback, useState } from 'react';\nimport { useMountedState } from 'react-use';\nimport { fetchRepos } from '../api';\nimport { usePersonalAccessToken } from '../personal-access-token';\nimport { createSearchCriteria, useSearchCriteria } from '../search-criteria';\nimport { useSearchType } from '../search-type';\nimport { TimeRange } from '../time';\nimport { createSearch } from './search';\nimport { createSearchQuery } from './search-query';\n\nexport function useInfiniteSearch() {\n  const isMounted = useMountedState();\n  const [personalAccessToken] = usePersonalAccessToken();\n  const [searchType] = useSearchType();\n  const [searchCriteria] = useSearchCriteria();\n  const [search, setSearch] = useState(createSearch());\n\n  const load = useCallback(async () => {\n    setSearch(createSearch([createSearchQuery(searchCriteria.timeRange)]));\n\n    const repos = await fetchRepos(\n      searchType,\n      searchCriteria,\n      personalAccessToken\n    );\n\n    if (isMounted()) {\n      setSearch(\n        createSearch(\n          [createSearchQuery(searchCriteria.timeRange, repos, false)],\n          false\n        )\n      );\n    }\n  }, [isMounted, personalAccessToken, searchCriteria, searchType]);\n\n  const loadNext = useCallback(\n    async (timeRange: TimeRange) => {\n      const nextQuery = createSearchQuery(timeRange);\n      setSearch(search => {\n        const queries = [...search.queries, nextQuery];\n        return createSearch(queries, search.loading);\n      });\n\n      const nextCriteria = createSearchCriteria(\n        searchCriteria.languages,\n        timeRange\n      );\n\n      const repos = await fetchRepos(\n        searchType,\n        nextCriteria,\n        personalAccessToken\n      );\n\n      if (isMounted()) {\n        setSearch(search => {\n          const queries = [\n            ...search.queries.filter(query => query !== nextQuery),\n            createSearchQuery(timeRange, repos, false)\n          ];\n          return createSearch(queries, false);\n        });\n      }\n    },\n    [isMounted, personalAccessToken, searchCriteria.languages, searchType]\n  );\n\n  return [search, load, loadNext] as [\n    typeof search,\n    typeof load,\n    typeof loadNext\n  ];\n}\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { App } from './app';\nimport './styles.css';\n\nconst rootElement = document.getElementById('root');\nrender(<App />, rootElement);\n","import React from 'react';\nimport { PersonalAccessToken } from '../personal-access-token';\nimport { InfiniteSearch } from '../search';\nimport {\n  Button,\n  Column,\n  defaultTheme,\n  GithubIcon,\n  Heading,\n  Row,\n  Text\n} from '../ui';\n\nexport function App() {\n  return (\n    <Column>\n      <Row\n        elevation={1}\n        backgroundColor={defaultTheme.palette.blue.base}\n        paddingX={8}\n        minHeight={64}\n        alignItems=\"center\"\n      >\n        <Column paddingRight={16} grow>\n          <Heading size={700} color=\"white\">\n            Gihtub Repository Search\n          </Heading>\n        </Column>\n        <Column>\n          <Button\n            is=\"a\"\n            href=\"https://github.com/eloiqs/github-repository-search\"\n            target=\"_blank\"\n            appearance=\"minimal\"\n            iconBefore={\n              (\n                <GithubIcon\n                  color=\"white\"\n                  width=\"16px\"\n                  style={{ marginRight: 8, marginLeft: -3 }}\n                />\n              ) as any\n            }\n          >\n            <Text color=\"white\">Github</Text>\n          </Button>\n        </Column>\n      </Row>\n      <Row>\n        <Column width=\"100%\">\n          <Row\n            marginBottom={32}\n            background=\"orangeTint\"\n            paddingY={8}\n            justifyContent=\"center\"\n          >\n            <PersonalAccessToken />\n          </Row>\n          <Row>\n            <Column width={1032} margin=\"auto\">\n              <InfiniteSearch />\n            </Column>\n          </Row>\n        </Column>\n      </Row>\n    </Column>\n  );\n}\n","import { SearchReposParams } from '@octokit/rest';\nimport { TimeRange, toTimeRange } from '../time';\n\nexport type SearchCriteria = Omit<SearchReposParams, 'q' | 'star'> & {\n  languages: string[];\n  timeRange: TimeRange;\n};\n\nexport function createSearchCriteria(\n  languages: string[] = [],\n  timeRange = toTimeRange('yearly')\n): SearchCriteria {\n  return {\n    languages,\n    timeRange,\n    order: 'desc',\n    page: 0,\n    per_page: 20\n  };\n}\n","import { useCallback } from 'react';\nimport createPersistedState from 'use-persisted-state';\nimport { createTimeRange } from '../time';\nimport { createSearchCriteria } from './search-criteria';\n\nexport const initialState = createSearchCriteria();\n\nconst usePersistedSearchCriteria = createPersistedState('grs-search-criteria');\n\nexport function useSearchCriteria() {\n  const [searchCriteria, setSearchCriteria] = usePersistedSearchCriteria(\n    initialState\n  );\n\n  const refreshTimeRange = useCallback(() => {\n    setSearchCriteria(criteria =>\n      createSearchCriteria(\n        criteria.languages,\n        createTimeRange(criteria.timeRange.increments)\n      )\n    );\n  }, [setSearchCriteria]);\n\n  return [searchCriteria, setSearchCriteria, refreshTimeRange] as [\n    typeof searchCriteria,\n    typeof setSearchCriteria,\n    typeof refreshTimeRange\n  ];\n}\n","import React, { useEffect, useState } from 'react';\nimport { useSearchType } from '../search-type';\nimport { TimeRangeRecurense, toTimeRange, toTimeRangeRecurense } from '../time';\nimport { Button, Menu, Popover } from '../ui';\nimport { capitalize } from '../utils';\nimport { createSearchCriteria } from './search-criteria';\nimport { useSearchCriteria } from './use-search-criteria';\n\nexport function TimeRangesPopoverMenu() {\n  const [searchType] = useSearchType();\n  const [searchCriteria, setSearchCriteria] = useSearchCriteria();\n  const [timeRangeRecurense, setTimeRangeRecurense] = useState(\n    toTimeRangeRecurense(searchCriteria.timeRange.increments)\n  );\n\n  useEffect(() => {\n    if (searchType === 'trending' && timeRangeRecurense === 'yearly') {\n      setTimeRangeRecurense('monthly');\n      setSearchCriteria(criteria =>\n        createSearchCriteria(criteria.languages, toTimeRange('monthly'))\n      );\n    }\n  }, [searchType, setSearchCriteria, timeRangeRecurense]);\n\n  function onSelect(timeRangeRecurense: TimeRangeRecurense, close: () => void) {\n    return function() {\n      setTimeRangeRecurense(timeRangeRecurense);\n      setSearchCriteria(criteria =>\n        createSearchCriteria(\n          criteria.languages,\n          toTimeRange(timeRangeRecurense)\n        )\n      );\n      close();\n    };\n  }\n\n  return (\n    <Popover\n      content={({ close }) => (\n        <Menu>\n          <Menu.Group>\n            {searchType !== 'trending' && (\n              <Menu.Item onSelect={onSelect('yearly', close)}>Yearly</Menu.Item>\n            )}\n            <Menu.Item onSelect={onSelect('monthly', close)}>Monthly</Menu.Item>\n            <Menu.Item onSelect={onSelect('weekly', close)}>Weekly</Menu.Item>\n            <Menu.Item onSelect={onSelect('daily', close)}>Daily</Menu.Item>\n          </Menu.Group>\n        </Menu>\n      )}\n    >\n      <Button iconBefore=\"calendar\">{capitalize(timeRangeRecurense)}</Button>\n    </Popover>\n  );\n}\n","import moment from 'moment';\nimport { useEffect, useState } from 'react';\nimport { useMountedState } from 'react-use';\nimport createPersistedState from 'use-persisted-state';\nimport { fetchLanguages } from '../api';\n\nconst usePersistedLanguages = createPersistedState('grs-languages');\n\nexport type Language = {\n  name: string;\n  color: string;\n};\n\nconst initialState = {\n  languages: [] as Language[],\n  timestamp: null as string | null\n};\n\nexport function useLanguages() {\n  const isMounted = useMountedState();\n  const [isLoading, setIsLoading] = useState(true);\n  const [\n    { languages: persistedLanguages, timestamp },\n    setPersistedLanguages\n  ] = usePersistedLanguages(initialState);\n\n  useEffect(() => {\n    if (!timestamp || moment().diff(moment(timestamp), 'days') > 0) {\n      (async () => {\n        setIsLoading(true);\n\n        const languages = await fetchLanguages();\n\n        if (isMounted()) {\n          if (\n            JSON.stringify(languages) !== JSON.stringify(persistedLanguages)\n          ) {\n            setPersistedLanguages({ languages, timestamp: moment().format() });\n          }\n          setIsLoading(false);\n        }\n      })();\n    }\n  }, [isMounted, persistedLanguages, setPersistedLanguages, timestamp]);\n\n  return [persistedLanguages, isLoading] as [\n    typeof persistedLanguages,\n    typeof isLoading\n  ];\n}\n","import React, { useState } from 'react';\nimport { Button, SelectMenu, SelectMenuItem } from '../ui';\nimport { createSearchCriteria } from './search-criteria';\nimport { useLanguages } from './use-languages';\nimport { useSearchCriteria } from './use-search-criteria';\n\nexport function LanguagesSelectMenu() {\n  const [searchCriteria, setSearchCriteria] = useSearchCriteria();\n  const [languages] = useLanguages();\n  const [selectedLanguages, setSelectedLanguages] = useState(\n    searchCriteria.languages\n  );\n\n  function onSelect(item: SelectMenuItem) {\n    const selected = [...selectedLanguages, item.value] as string[];\n    setSelectedLanguages(selected);\n    setSearchCriteria(criteria =>\n      createSearchCriteria(selected, criteria.timeRange)\n    );\n  }\n\n  function onDeselect(deselectedItem: SelectMenuItem) {\n    const languages = selectedLanguages.filter(\n      language => language !== deselectedItem.value\n    );\n    setSelectedLanguages(languages);\n    setSearchCriteria(criteria =>\n      createSearchCriteria(languages, criteria.timeRange)\n    );\n  }\n\n  const label = selectedLanguages.length\n    ? selectedLanguages.join(', ')\n    : 'Filter languages';\n\n  const options = languages.map(({ name }) => ({ label: name, value: name }));\n\n  return (\n    <SelectMenu\n      isMultiSelect\n      title=\"Filter languages\"\n      options={options}\n      selected={selectedLanguages}\n      onSelect={onSelect}\n      onDeselect={onDeselect}\n    >\n      <Button iconBefore=\"filter\">{label}</Button>\n    </SelectMenu>\n  );\n}\n","import { SearchCriteria } from './search-criteria';\n\nexport function toQueryString(criteria: SearchCriteria) {\n  const { from, to } = criteria.timeRange;\n  const created = `created:${from}..${to}`;\n\n  if (!criteria.languages.length) return created;\n\n  const languages = criteria.languages.reduce((q, lang) => {\n    if (!q.length) return `language:${lang}`;\n    return q + `+language:${lang}`;\n  }, '');\n\n  return `${languages}+${created}`;\n}\n","export * from './TimeRangesPopoverMenu';\nexport * from './LanguagesSelectMenu';\nexport * from './search-criteria';\nexport * from './to-query-string';\nexport * from './use-languages';\nexport * from './use-search-criteria';\n","import * as evergreen from 'evergreen-ui';\n\nexport const Pane = evergreen.Pane;\nexport type PaneProps = evergreen.PaneProps;\n","import React from 'react';\nimport { Pane, PaneProps } from './Pane';\n\nexport type ColumnProps = Omit<\n  PaneProps,\n  'display' | 'flexDirection' | 'minWidth' | 'height'\n> & {\n  grow?: boolean;\n};\n\nexport function Column({ children, card, grow, ...props }: ColumnProps) {\n  return (\n    <Pane\n      display=\"flex\"\n      flexDirection=\"column\"\n      minWidth=\"0\"\n      height=\"100%\"\n      flexGrow={grow ? 1 : 0}\n      {...props}\n    >\n      {children}\n    </Pane>\n  );\n}\n","import * as evergreen from 'evergreen-ui';\n\nexport type TextProps = evergreen.TextProps;\nexport const Text = evergreen.Text;\n","import React from 'react';\nimport { Pane } from './Pane';\nimport { Text, TextProps } from './Text';\n\nexport type FadeTextProps = TextProps;\n\nexport function FadeText({ children, ...props }: FadeTextProps) {\n  return (\n    <Pane\n      className=\"fade-text\"\n      position=\"relative\"\n      height=\"100%\"\n      overflow=\"hidden\"\n    >\n      <Text {...props}>{children}</Text>\n    </Pane>\n  );\n}\n","import React from 'react';\n\nexport function GithubIcon(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      fill=\"currentColor\"\n      preserveAspectRatio=\"xMidYMid meet\"\n      viewBox=\"0 0 40 40\"\n      width=\"100%\"\n      height=\"100%\"\n      {...props}\n    >\n      <g>\n        <path d=\"m20 0c-11 0-20 9-20 20 0 8.8 5.7 16.3 13.7 19 1 0.2 1.3-0.5 1.3-1 0-0.5 0-2 0-3.7-5.5 1.2-6.7-2.4-6.7-2.4-0.9-2.3-2.2-2.9-2.2-2.9-1.9-1.2 0.1-1.2 0.1-1.2 2 0.1 3.1 2.1 3.1 2.1 1.7 3 4.6 2.1 5.8 1.6 0.2-1.3 0.7-2.2 1.3-2.7-4.5-0.5-9.2-2.2-9.2-9.8 0-2.2 0.8-4 2.1-5.4-0.2-0.5-0.9-2.6 0.2-5.3 0 0 1.7-0.5 5.5 2 1.6-0.4 3.3-0.6 5-0.6 1.7 0 3.4 0.2 5 0.7 3.8-2.6 5.5-2.1 5.5-2.1 1.1 2.8 0.4 4.8 0.2 5.3 1.3 1.4 2.1 3.2 2.1 5.4 0 7.6-4.7 9.3-9.2 9.8 0.7 0.6 1.4 1.9 1.4 3.7 0 2.7 0 4.9 0 5.5 0 0.6 0.3 1.2 1.3 1 8-2.7 13.7-10.2 13.7-19 0-11-9-20-20-20z\" />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\nimport { Link as EvergreenLink, LinkProps } from 'evergreen-ui';\n\nexport function Link({ children, ...props }: Omit<LinkProps, 'target'>) {\n  return (\n    <EvergreenLink {...props} target=\"_blank\">\n      {children}\n    </EvergreenLink>\n  );\n}\n","import React from 'react';\nimport { Pane, PaneProps } from './Pane';\n\nexport type RowProps = Omit<\n  PaneProps,\n  'display' | 'flexDirection' | 'width'\n> & {\n  grow?: boolean;\n};\n\nexport function Row({ children, card, grow, ...props }: RowProps) {\n  return (\n    <Pane\n      display=\"flex\"\n      flexDirection=\"row\"\n      width=\"100%\"\n      minHeight=\"0\"\n      flexGrow={grow ? 1 : 0}\n      {...props}\n    >\n      {children}\n    </Pane>\n  );\n}\n","import * as evergreen from 'evergreen-ui';\n\nexport const SelectMenu = evergreen.SelectMenu;\nexport interface SelectMenuItem extends evergreen.SelectMenuItem {}\n","export * from './Button';\nexport * from './Card';\nexport * from './Column';\nexport * from './default-theme';\nexport * from './FadeText';\nexport * from './GithubIcon';\nexport * from './Heading';\nexport * from './Icon';\nexport * from './IconButton';\nexport * from './Image';\nexport * from './Link';\nexport * from './Menu';\nexport * from './Popover';\nexport * from './Row';\nexport * from './Scroll';\nexport * from './SelectField';\nexport * from './SelectMenu';\nexport * from './Spinner';\nexport * from './Text';\nexport * from './TextInput';\n","import createPersistedState from 'use-persisted-state';\n\nexport type SearchTypes = 'most-starred' | 'trending';\n\nconst usePersistedSearchType = createPersistedState('grs-search-type');\n\nconst initialState: SearchTypes = 'most-starred';\n\nexport function useSearchType() {\n  const [persistedSearchType, setPersistedSearchType] = usePersistedSearchType(\n    initialState\n  );\n\n  return [persistedSearchType, setPersistedSearchType] as [\n    typeof persistedSearchType,\n    typeof setPersistedSearchType\n  ];\n}\n","import React from 'react';\nimport { SelectField } from '../ui';\nimport { SearchTypes, useSearchType } from './use-search-type';\n\nexport function SearchTypesSelectField() {\n  const [searchType, setSearchType] = useSearchType();\n\n  return (\n    <SelectField\n      label=\"Search type\"\n      value={searchType}\n      onChange={(evt: React.ChangeEvent<HTMLSelectElement>) =>\n        setSearchType(evt.target.value as SearchTypes)\n      }\n      inputWidth={240}\n    >\n      <option value=\"most-starred\">Most starred</option>\n      <option value=\"trending\">Trending</option>\n    </SelectField>\n  );\n}\n","export * from './SearchTypesSelectField';\nexport * from './use-search-type';\n","export function capitalize(_string: string) {\n  return _string.charAt(0).toUpperCase() + _string.slice(1);\n}\n\nexport function flatZip<T extends any>(arrs: T[][]): T[] {\n  const [arr, ...rest] = arrs;\n  return arr.reduce<T[]>(\n    (flatArr, val, i) => [\n      ...flatArr,\n      ...rest.reduce((a, arr) => (arr[i] ? [...a, arr[i]] : a), [val])\n    ],\n    []\n  );\n}\n","import jsyaml from 'js-yaml';\n\nconst githubLinguistYmlUrl =\n  'https://raw.githubusercontent.com/github/linguist/master/lib/linguist/languages.yml';\n\nexport async function fetchLanguages() {\n  const res = await fetch(githubLinguistYmlUrl);\n  const yml = await res.text();\n\n  const json = jsyaml.safeLoad(yml);\n  const languages = Object.keys(json).map(language => ({\n    name: language,\n    color: json[language].color\n  }));\n\n  return languages;\n}\n","import Octokit from '@octokit/rest';\nimport { Repo } from '../repo';\nimport { SearchCriteria, toQueryString } from '../search-criteria';\n\nexport async function fetchMostStarredRepos(\n  searchCriteria: SearchCriteria,\n  personalAccessToken: string\n): Promise<Repo[]> {\n  const response = await new Octokit({\n    auth: personalAccessToken\n  }).search.repos({\n    q: toQueryString(searchCriteria),\n    sort: 'stars'\n  });\n\n  return response.data.items.map(item => ({\n    name: item.name,\n    url: item.html_url,\n    owner: {\n      name: item.owner.login,\n      url: (item.owner as any).html_url,\n      avatarUrl: item.owner.avatar_url\n    },\n    createdAt: item.created_at,\n    description: item.description,\n    language: item.language,\n    stars: item.stargazers_count,\n    forks: item.forks_count\n  }));\n}\n","import { fetchRepositories } from '@huchenme/github-trending';\nimport { Repo } from '../repo';\nimport { SearchCriteria } from '../search-criteria';\nimport { toTimeRangeRecurense } from '../time';\nimport { flatZip } from '../utils';\n\nexport async function fetchTrendingRepos(\n  searchCriteria: SearchCriteria\n): Promise<Repo[]> {\n  const since = toTimeRangeRecurense(searchCriteria.timeRange.increments);\n\n  const repos = await Promise.all(\n    searchCriteria.languages.length\n      ? searchCriteria.languages.map(language => fetchRepos(since, language))\n      : [fetchRepos(since)]\n  );\n\n  return flatZip(repos);\n}\n\nasync function fetchRepos(since: string, language?: string): Promise<Repo[]> {\n  const repos: TrendingRepo[] = await fetchRepositories(\n    language\n      ? {\n          language,\n          since\n        }\n      : { since }\n  );\n  return repos.map(createRepo);\n}\n\nexport type TrendingRepo = {\n  name: string;\n  url: string;\n  author: string;\n  avatar: string;\n  description: string;\n  language: string;\n  languageColor: string;\n  stars: number;\n  currentPeriodStars: number;\n  forks: number;\n};\n\nfunction createRepo(trendingRepo: TrendingRepo): Repo {\n  return {\n    name: trendingRepo.name,\n    url: trendingRepo.url,\n    owner: {\n      name: trendingRepo.author,\n      url: `https://github.com/${trendingRepo.author}`,\n      avatarUrl: trendingRepo.avatar\n    },\n    description: trendingRepo.description,\n    language: trendingRepo.language,\n    languageColor: trendingRepo.languageColor,\n    stars: trendingRepo.stars,\n    currentPeriodStars: trendingRepo.currentPeriodStars,\n    forks: trendingRepo.forks\n  };\n}\n","import { SearchTypes } from '../search-type';\nimport { fetchMostStarredRepos } from './most-starred-repos';\nimport { fetchTrendingRepos } from './trending-repos';\nimport { SearchCriteria } from '../search-criteria';\n\nexport function fetchRepos(\n  searchType: SearchTypes,\n  searchCriteria: SearchCriteria,\n  personalAccessToken: string\n) {\n  switch (searchType) {\n    case 'most-starred':\n      return fetchMostStarredRepos(searchCriteria, personalAccessToken);\n    case 'trending':\n      return fetchTrendingRepos(searchCriteria);\n  }\n}\n","export * from './fetch-languages';\nexport * from './fetch-repos';\n","import moment from 'moment';\nimport React from 'react';\nimport { useLanguages } from '../search-criteria';\nimport { TimeRange } from '../time';\nimport {\n  Card,\n  CardProps,\n  Column,\n  FadeText,\n  Heading,\n  Icon,\n  Image,\n  Link,\n  Row,\n  Text\n} from '../ui';\nimport { Repo } from './repo';\n\nexport type RepoCardProps = {\n  repo: Repo;\n  timeRange: TimeRange;\n} & CardProps;\n\nexport function RepoCard({ repo, timeRange, ...props }: RepoCardProps) {\n  const [languages] = useLanguages();\n\n  let languageColor: string | undefined;\n  if (repo.languageColor) {\n    languageColor = repo.languageColor;\n  } else {\n    const language = languages.find(\n      language => language.name === repo.language\n    );\n    languageColor = language && language.color;\n  }\n\n  return (\n    <Card\n      width={312}\n      height={264}\n      marginBottom={32}\n      elevation={2}\n      background=\"tint2\"\n      padding={16}\n      {...props}\n    >\n      <Column justifyContent=\"space-between\">\n        <Row alignItems=\"center\">\n          <Card\n            marginRight={8}\n            minWidth={32}\n            width={32}\n            height={32}\n            overflow=\"hidden\"\n          >\n            <Image width={32} height={32} src={repo.owner.avatarUrl} />\n          </Card>\n          <Column justifyContent=\"center\" grow>\n            <Link href={repo.owner.url} color=\"neutral\" textDecoration=\"none\">\n              <Row>\n                <Heading size={400}>{repo.owner.name}</Heading>\n              </Row>\n              <Row>\n                <Text>View Profile</Text>\n              </Row>\n            </Link>\n          </Column>\n          {repo.currentPeriodStars && (\n            <Column>\n              <Row alignItems=\"center\">\n                <Icon icon=\"star\" size={12} color=\"default\" paddingRight={4} />\n                <Column>\n                  <Text fontSize={12}>\n                    {`${repo.currentPeriodStars} stars ${\n                      timeRange.increments === 'day'\n                        ? 'today'\n                        : `this ${timeRange.increments}`\n                    }`}\n                  </Text>\n                </Column>\n              </Row>\n            </Column>\n          )}\n        </Row>\n        <Row>\n          <Column>\n            <Row>\n              <Column>\n                <Row>\n                  <Link href={repo.url} textDecoration=\"none\">\n                    <Heading size={500} color=\"default\">\n                      {repo.name}\n                    </Heading>\n                  </Link>\n                </Row>\n                <Row paddingBottom={12}>\n                  <Text size={300} color=\"muted\">\n                    Built by ·{' '}\n                    <Link\n                      href={repo.owner.url}\n                      color=\"neutral\"\n                      textDecoration=\"none\"\n                    >\n                      {repo.owner.name}\n                    </Link>\n                    {repo.createdAt && (\n                      <> · {moment(repo.createdAt).format('MMM D, YYYY')}</>\n                    )}\n                  </Text>\n                </Row>\n              </Column>\n              <Column />\n            </Row>\n            <Row height={56}>\n              <FadeText>{repo.description}</FadeText>\n            </Row>\n          </Column>\n        </Row>\n        <Row>\n          <Column paddingRight={12}>\n            <Row alignItems=\"center\">\n              {languageColor && (\n                <Icon\n                  icon=\"full-circle\"\n                  color={languageColor}\n                  paddingRight={4}\n                />\n              )}\n              <Text>{repo.language}</Text>\n            </Row>\n          </Column>\n          <Column paddingRight={12}>\n            <Link\n              href={`${repo.url}/stargazers`}\n              color=\"neutral\"\n              textDecoration=\"none\"\n            >\n              <Row>\n                <Column paddingRight={4}>\n                  <Icon icon=\"star-empty\" color=\"default\" />\n                </Column>\n                <Column>\n                  <Text>{repo.stars}</Text>\n                </Column>\n              </Row>\n            </Link>\n          </Column>\n          <Column paddingRight={12}>\n            <Link\n              href={`${repo.url}/network/members`}\n              color=\"neutral\"\n              textDecoration=\"none\"\n            >\n              <Row>\n                <Column paddingRight={4}>\n                  <Icon icon=\"fork\" color=\"default\" />\n                </Column>\n                <Column>\n                  <Text>{repo.forks}</Text>\n                </Column>\n              </Row>\n            </Link>\n          </Column>\n          {repo.issues && (\n            <Column>\n              <Link\n                href={`${repo.url}/issues`}\n                color=\"neutral\"\n                textDecoration=\"none\"\n              >\n                <Row>\n                  <Column paddingRight={4}>\n                    <Icon icon=\"issue\" color=\"default\" />\n                  </Column>\n                  <Column>\n                    <Text>{repo.issues}</Text>\n                  </Column>\n                </Row>\n              </Link>\n            </Column>\n          )}\n        </Row>\n      </Column>\n    </Card>\n  );\n}\n"],"sourceRoot":""}